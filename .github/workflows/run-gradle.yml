name: Gradle Task
run-name: "Gradle Task ${{ inputs.task }}, ${{ inputs.runs-on }}, ${{ inputs.ref }}"

on:
   workflow_call: {}

permissions:
   contents: read

jobs:
   run-tests:
      runs-on: ubuntu-latest
      steps:
         - uses: 'hmarr/debug-action@v3'

         -  name: Checkout the repo
            uses: actions/checkout@v4

         -  name: Setup JDK
            uses: actions/setup-java@v4
            with:
               distribution: "temurin"
               java-version: "21"

         -  name: Setup Gradle
            uses: "gradle/actions/setup-gradle@6c9e5473141d9a428221ea9a229a025d7bf331d4" # v4.0.0-beta.1

         -  name: Run Gradle
            run: ./gradlew build --scan --stacktrace
            shell: bash
